var n=`:host { user-select: none; }\r
::slotted(*)\r
{\r
    user-select: none;\r
    cursor: pointer;\r
}\r
::slotted(:hover)\r
{\r
    background-color: var(--background-color-hover, rgb(221, 221, 221));\r
}\r
::slotted(.selected)\r
{\r
    background-color: var(--background-color-selected, highlight);\r
    color: var(--color-selected, highlighttext);\r
}\r
@media (prefers-color-scheme: dark) \r
{\r
    ::slotted(:hover)\r
    {\r
        --background-color-hover: rgb(197, 197, 197);\r
    }\r
}`;var d=new CSSStyleSheet;d.replaceSync(n);document.addEventListener("keydown",e=>{if(s.multipleModifierKeys.indexOf(e.code)>-1){s._multipleModifierActive=!0;return}});document.addEventListener("keyup",e=>{s.multipleModifierKeys.indexOf(e.code)>-1&&(s._multipleModifierActive=s.multipleModifierActive)});var c="selectable-items",s=class e extends HTMLElement{static observedAttributes=[];static _multipleModifierActive=!1;static multipleModifierKeys=["ShiftLeft","ShiftRight","ControlLeft","ControlRight"];static multipleModifierActive=!1;static selectKeys=["Enter","Space"];static selectedClassName="selected";selected=()=>[...this.querySelectorAll(`.${e.selectedClassName}`)];handledItems=new WeakSet;constructor(){super(),this.attachShadow({mode:"open"}),this.shadowRoot.innerHTML="<slot></slot>",this.shadowRoot.adoptedStyleSheets.push(d),this.shadowRoot.querySelector("slot").addEventListener("slotchange",o=>{let l=o.target.assignedElements();for(let i=0;i<l.length;i++)this.handledItems.has(l[i])||(l[i].setAttribute("tabIndex","0"),l[i].addEventListener("keydown",t=>{e.selectKeys.indexOf(t.code)>-1&&this.selectItem(t.currentTarget)}),l[i].addEventListener("click",t=>{this.selectItem(t.currentTarget)}))})}selectItem(o){if(o.parentNode!=this){console.info("Unable to select an item that is not a child of this element.");return}let l=this.getAttribute("multiple")??this.getAttribute("multi");(e._multipleModifierActive==!1||l==null)&&[...this.children].reduce((t,r,h)=>(r.classList.contains(e.selectedClassName)&&t.push(r),t),new Array).forEach(t=>t.classList.remove(e.selectedClassName)),o.classList.add(e.selectedClassName),this.dispatchEvent(new Event("change"))}};customElements.get(c)==null&&customElements.define(c,s);export{s as SelectableItemsElement};
